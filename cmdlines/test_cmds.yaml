---

cmdlines: 

- name: system_analyzer
  description: checks system stack readiness to run applications
  commands:
   - system_analyzer 
  expect: "Implementation #0" 

- name: sample_decode
  description: decode a file with VPL
  commands:
   - sample_decode h265 -i content/cars_320x240.h265
  expect: "Decoding finished"

- name: sample_multi_transcode
  description: transcode a file with VPL
  commands:
    - sample_multi_transcode -i::h265 content/cars_320x240.h265 -o::h265 NUL
  expect: "PASSED"

- name: vpl-infer
  description: simple decode->resize->infer object detection pipeline
  commands:
    - pushd vpl-infer
    - rm -rf build; mkdir build; pushd build; cmake ..; make
    - ./vpl-infer -i ../../content/cars_320x240.h265 -m ../../content/public/mobilenet-ssd/FP32/mobilenet-ssd.xml -hw
    - popd; popd
  expect: "Decoded 30 frames and detected objects"

- name: ffmpeg qsv decode
  description: ffmpeg qsv decode without output
  commands:
    - ffmpeg -hwaccel qsv -c:v hevc_qsv -i content/cars_320x240.h265 -f null -
  expect: "frame=   30"
